# ===========================================
# KENMEI PRODUCTION ENVIRONMENT VARIABLES
# ===========================================
# Copy this file to .env.production and fill in your values

# -------------------------------------------
# DATABASE
# -------------------------------------------
# PostgreSQL connection string (Supabase or Neon)
# Format: postgresql://user:password@host:port/database?sslmode=require
DATABASE_URL=

# SSL Certificate path (for Supabase)
SSL_CA_PATH=./src/certs/supabase-ca-bundle.crt

# Optional: Direct IP bypass for DNS issues
# DRIZZLE_DB_HOST_IP=
# DRIZZLE_DB_PORT=

# PostgreSQL Pool Configuration
PG_POOL_MAX=10
PG_IDLE_TIMEOUT_MS=30000
PG_CONNECTION_TIMEOUT_MS=15000
PG_STATEMENT_TIMEOUT_MS=60000
PG_LOCK_TIMEOUT_MS=15000
PG_IDLE_IN_TX_TIMEOUT_MS=30000

# -------------------------------------------
# APPLICATION
# -------------------------------------------
NODE_ENV=production
NEXT_PUBLIC_SITE_URL=https://yourdomain.com
NEXT_PUBLIC_BASE_URL=https://yourdomain.com

# -------------------------------------------
# AUTHENTICATION (Better-Auth)
# -------------------------------------------
# Generate with: openssl rand -base64 32
BETTER_AUTH_SECRET=
BETTER_AUTH_URL=https://yourdomain.com

# Google OAuth (Optional)
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

# -------------------------------------------
# PAYMENTS (Stripe + Autumn)
# -------------------------------------------
# Stripe Keys
STRIPE_TEST_KEY=sk_test_...
STRIPE_LIVE_KEY=sk_live_...
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_...

# Autumn Configuration
# Generate with: openssl rand -base64 32
AUTUMN_SECRET_KEY=

# -------------------------------------------
# SEARCH (Typesense)
# -------------------------------------------
TYPESENSE_API_KEY=
TYPESENSE_HOST=your-typesense-host:8108
NEXT_PUBLIC_TYPESENSE_HOST=https://your-typesense-host
NEXT_PUBLIC_TYPESENSE_SEARCH_KEY=

# -------------------------------------------
# EXTERNAL APIS
# -------------------------------------------
# MangaDex Integration
MANGADEX_API_URL=https://api.mangadex.org

# -------------------------------------------
# MONITORING
# -------------------------------------------
# PostHog Analytics
NEXT_PUBLIC_POSTHOG_KEY=phc_...
NEXT_PUBLIC_POSTHOG_HOST=https://app.posthog.com

# Sentry Error Tracking
NEXT_PUBLIC_SENTRY_DSN=https://...@sentry.io/...

# -------------------------------------------
# RATE LIMITING (Optional - Upstash Redis)
# -------------------------------------------
UPSTASH_REDIS_REST_URL=
UPSTASH_REDIS_REST_TOKEN=

# -------------------------------------------
# VERCEL (Auto-populated by Vercel)
# -------------------------------------------
VERCEL=1
VERCEL_URL=
VERCEL_ENV=production

# -------------------------------------------
# WORKER SERVICE
# -------------------------------------------
# Worker URL (Fly.io or Railway)
WORKER_URL=https://kenmei-worker.fly.dev

# -------------------------------------------
# OPTIONAL
# -------------------------------------------
# Enable debug logging
# DEBUG=true

# Admin API Key (for internal tools)
# ADMIN_API_KEY=

# Email configuration (future)
# SMTP_HOST=
# SMTP_PORT=
# SMTP_USER=
# SMTP_PASSWORD=